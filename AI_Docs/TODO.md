# TODOリスト

## ステップ4実行計画

- [x] 準備作業（完了条件：必要な情報の収集とタスクの把握が完了していて、プリセットタスク削除機能とESLint警告の最小限設定が完了していること）

  - [x] `./AI_Docs/step_toc.md`でステップ4の行数範囲を確認する
  - [x] `./AI_Docs/design_toc.md`で必要な設計情報の行数範囲を確認する
  - [x] ステップ概要とステップ3,4,5の内容を把握する
  - [x] 必要な設計情報を確認する
  - [x] TODO.mdを更新し、ステップ4の詳細タスクを追加する

- [x] タスク作成フォームの実装（完了条件：フォームから新しいタスクを作成できること、コンソールでステートの変化を確認できること）

  - [x] タスク作成フォームのコンポーネントを作成する
    - [x] タスク名の入力欄を実装
    - [x] 所要時間の入力欄をプルダウンメニューで実装
    - [x] 色を最も使用回数の少ないものから割り当てる機能を実装
    - [x] フォーム送信処理を実装
  - [x] [+]ボタンでフォームの表示・非表示を切り替えられるようにする
  - [x] バリデーションを実装（タスク名は必須、所要時間は1以上の数値）
  - [x] 作成したタスクがavailableTasksに追加されることをコンソールで確認

- [x] タスクリスト表示コンポーネントの実装（完了条件：サイドメニューにタスク一覧が表示されること）

  - [x] タスクリストコンポーネントを作成する
  - [x] タスクカードの表示スタイルを実装
  - [x] 各タスクの詳細情報の表示
  - [x] タスクプールに追加するボタンの実装
  - [x] タスク一覧が画面下部まで表示されるよう修正

- [x] タスク編集機能の実装（完了条件：既存タスクの情報を編集でき、ストアに変更が反映されること）

  - [x] タスク編集用のモーダルを実装
  - [x] 既存のタスク情報をフォームに表示
  - [x] 色の選択機能を追加
  - [x] 所要時間をプルダウンメニューに変更
  - [x] 編集情報の保存処理を実装
  - [x] 編集結果がストアに反映されることを確認

- [x] タスク削除機能の実装（完了条件：タスクを削除でき、ストアから削除されること）

  - [x] 削除ボタンの実装
  - [x] 削除確認ダイアログの実装
  - [x] 削除処理の実装
  - [x] 削除結果がストアに反映されることを確認

- [x] タスクプールへの追加機能の実装（完了条件：タスクリストからタスクプールにタスクを追加できること）

  - [x] タスクプールへの追加ボタンの機能を実装
  - [x] タスクプール内のタスク表示コンポーネントを実装
  - [x] 同じタスクを複数追加できるよう修正
  - [x] タスクプールからの削除機能を実装

- [x] プリセットタスク削除機能追加

  - [x] storeのdeleteTask関数の条件変更
  - 完了条件: プリセットタスクも通常タスクと同様に削除できること

- [x] ESLint警告の最小限設定

  - [x] eslint.config.jsの設定を更新（最低限必要な設定のみに修正）
  - [x] componentsディレクトリにも未使用変数警告抑制を適用
  - [x] 「一時的な措置である」ことを明記したコメント追加
  - 完了条件: 開発時のESLint警告が最小限になり、開発効率が向上すること

- [x] タスク操作機能のテスト作成

  - [x] デバッグログから判明した問題点の修正
    - [x] `data-testid="task-item"`属性がないためセレクタを実際のDOM構造に合わせる
    - [x] 削除確認ダイアログのテキストを実際の表示に合わせる
    - [x] 正確なラベルとIDを使用したフォーム要素の特定方法に修正
  - [x] タスク作成テストケース追加
  - [x] タスク編集テストケース追加
  - [x] タスク削除テストケース追加
  - [x] プリセットタスク削除テストケース追加
  - 完了条件: 追加したテストがすべてパスすること

- [x] UI改善（完了条件：ユーザーフィードバックに基づく改善が実装されていること）

  - [x] タスク一覧の表示領域を最大化（スクロールバー問題の修正）
  - [x] サイドメニュー内のレイアウト調整

- [x] テストの作成と実行（完了条件：すべての機能が正常に動作することをテストで確認）

  - [x] タスク作成のテスト
  - [x] タスク編集のテスト
  - [x] タスク削除のテスト
  - [x] タスクプール操作のテスト

- [x] 動作確認とデバッグ（完了条件：すべての機能が期待通りに動作すること）

  - [x] ブラウザでの動作確認
  - [x] コンソールエラーの確認と修正
  - [x] ステップ4完了のマーキング

  - [x] 全ての必要機能が実装されていることの確認
  - [x] 全てのテストが成功していて、動作確認が完了していることの確認
  - [x] 設計要件と実装の整合性チェック
  - 完了条件: ユーザーの確認を得て、Step 4が完了したと判断されること

## ステップ4完了確認

- [ ] 全テストのパス確認

  - [ ] ChromiumおよびWebKitでのテスト成功
  - [ ] 完了条件: すべてのE2Eテストがエラーなく完了すること

- [x] 機能要件の充足確認

  - [x] プリセットタスク削除機能の動作確認
  - [x] タスク作成・編集機能の動作確認
  - [ ] 完了条件: 設計書に記載された全機能が実装・テストされていること

- [ ] コードの品質確認
  - [ ] ESLint警告の最小化
  - [ ] テストコードの堅牢性向上
  - [ ] 完了条件: コードが読みやすく保守性が高いこと

## ログと次のステップへの引継ぎ

- [ ] ステップ4での学びをAI_Docs/log.mdに記録
  - デバッグログやスクリーンショット機能の活用方法
  - UI要素特定時の複数手法（テキスト・ラベル・type属性）の有効性
  - Zustandストア直接操作によるUIテスト安定化テクニック
  - 完了条件: 次のステップでも活用できる知見がまとめられていること
